<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Box Rating with Category & Overall Averages</title>
  <style>
    body {
      background: #f4f4f4;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 50px;
      padding: 50px;
    }

    .rating-boxes { display: flex; gap: 3px; }
    .rating-container, .subrating, .sub-sub-rating-h { border: 1px solid #444; padding: 10px; }
    .box {
      width: 40px;
      height: 40px;
      background: #ccc;
      border-radius: 8px;
      cursor: pointer;
      transition: .3s;
    }

    .box.hovered.poor,    .box.selected.poor    { background: #ff4d4f !important; }
    .box.hovered.average, .box.selected.average { background: #ff944d !important; }
    .box.hovered.good,    .box.selected.good    { background: #ffc107 !important; }
    .box.hovered.great,   .box.selected.great   { background: #69d100 !important; }
    .box.hovered.excellent,.box.selected.excellent{ background: #28a745 !important; }

    .rating-text { margin-top: 8px; font-size: 1rem; font-weight: bold; color: #333; height: 1.2em; }

    .ds, .dashboard-section { width: 100%; max-width: 1000px; }
    .ds-row { display: flex; gap: 20px; margin-bottom: 20px; }

    .circle-rating {
      --rating: 0;
      --size: 120px;
      --thickness: 12px;
      --percent: 0;
      width: var(--size);
      height: var(--size);
      border-radius: 50%;
      background: conic-gradient(
        var(--color) 0 calc(var(--percent)*1%),
        #ddd calc(var(--percent)*1%) 100%
      );
      display: flex; align-items: center; justify-content: center; position: relative;
    }
    .circle-rating::before {
      content: '';
      position: absolute;
      width: calc(var(--size) - var(--thickness)*2);
      height: calc(var(--size) - var(--thickness)*2);
      background: #fff;
      border-radius: 50%;
    }
    .circle-rating .rating-text { position: relative; font-size: 1.4rem; z-index: 1; }
  </style>
</head>
<body>

  <!-- Average Circle Display -->
  <div id="rating" class="circle-rating">
    <div class="rating-text" id="ratingText">0/5</div>
  </div>

  <!-- Ratings UI -->
  <div class="dashboard-section">
    <!--Just Above ds(subrating box)-->
    <div class="ds-top">
      <!--Left: ds-heading + description-->
      <div class="ds-col">
        <div class="ds-heading" id="acad">
          <h1 class="ds-title">Academics</h1>
        </div>
        <div class="ds-description">
          <p class="ds-descrip-p">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quasi dolor minima voluptas dignissimos animi expedita non neque. Eius reprehenderit obcaecati eveniet quaerat distinctio! Reprehenderit ea possimus enim minus similique, eveniet quis placeat eligendi deserunt veritatis cum delectus, laudantium cumque sunt tempore molestiae a assumenda. Nemo ducimus quis est natus! Magnam voluptatum at consectetur cupiditate rem quaerat, distinctio tenetur commodi nam iure est ab in provident incidunt, vel rerum suscipit repellat voluptatem ea velit esse. Adipisci impedit suscipit quis accusamus unde nihil rem voluptatibus tenetur sed quos ipsa beatae deserunt vel autem architecto ab, voluptate dolore dolores eaque asperiores quibusdam! Omnis.</p>
        </div>
      </div>
      <!----Right: Avg-Rating Display-->
      <div class="ds-avg-rat-display">
        <div class="rating-cricle">
          <!--Calculate theAverage of all parlist ratings below-->
        </div>
        <div class="overall-text"></div>
        <div class="parameter-list">
          <div class="parlist">
            <div id="rating" class="circle-rating">
              <div class="rating-text" id="ratingText">0/5</div>
            </div>
            <div class="rate-graphic-display">
              <h4>Tuition Quality</h4>
            </div>
          </div>
          <div class="parlist">
            <div id="rating" class="circle-rating">
              <div class="rating-text" id="ratingText">0/5</div>
            </div>
            <div class="rate-graphic-display">
              <h4>Attendance Culture</h4>
            </div>
          </div>
          <div class="parlist">
            <div id="rating" class="circle-rating">
              <div class="rating-text" id="ratingText">0/5</div>
            </div>
            <div class="rate-graphic-display">
              <h4>Assignment Culture</h4>
            </div>
          </div>
          <div class="parlist">
            <div id="rating" class="circle-rating">
              <div class="rating-text" id="ratingText">0/5</div>
            </div>
            <div class="rate-graphic-display">
              <h4>Exam System</h4>
            </div>
          </div>
        </div>
      </div>        
    </div>

    <!--1.1)Tuition Quality: 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.1.5, 1.1.6-->
    <div class="ds">
      <!--Tuition Quality-->
      <div class="subrating-heading">
        <h2 class="sb-rate-h">Tuition Quality</h2>
      </div>
      <!--1.1.1, 1.1.2--->
      <div class="ds-row">
        <!--1.1.1-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Core-Subs</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.1.2-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Non-Core Subs</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>
      <!--1.1.3, 1.1.4--->
      <div class="ds-row">
        <!--1.1.3-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Online Learning Portals</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.1.4-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Smart Boards/ Projector</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>
      <!--1.1.5, 1.1.6--->
      <div class="ds-row">
        <!--1.1.5-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Access to Licensed Software</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.1.6-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Provision of Notes</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>

      <!--Comment-box-->
      <div class="comment-container">
        <div class="user-comment">
          <h2>Comments</h2>
        </div>  
        <form id="commentForm" method="POST" action="save_comment.php">
          <textarea id="commentInput" name="comment" maxlength="250" placeholder="Type your thoughts..." required></textarea>
          <div class="footer">
            <span id="charCount">0/250</span>
            <button type="submit" id="submitBtn" disabled>Post</button>
          </div>
        </form>
      </div>
    </div>
    <!--1.2)Attendance Culture: 1.2.1, 1.2.2, 1.2.3, 1.2.4-->
    <div class="ds">
      <!--Attendance Culture-->
      <div class="subrating-heading">
        <h2 class="sb-rate-h">Attendance Culture</h2>
      </div>
      <!--1.2.1, 1.2.2--->
      <div class="ds-row">
        <!--1.2.1-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Lenience in 75% criteria</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.1.2-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Concessions through clubs</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>
      <!--1.2.3, 1.2.4--->
      <div class="ds-row">
        <!--1.2.3-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Leniene in lecture</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.2.4-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Medical Leave Considerations</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>

      <!--Comment-box-->
      <div class="comment-container">
        <div class="user-comment">
          <h2>Comments</h2>
        </div>  
        <form id="commentForm" method="POST" action="save_comment.php">
          <textarea id="commentInput" name="comment" maxlength="250" placeholder="Type your thoughts..." required></textarea>
          <div class="footer">
            <span id="charCount">0/250</span>
            <button type="submit" id="submitBtn" disabled>Post</button>
          </div>
        </form>
      </div>
    </div>
    <!--1.3)Exam System: 1.3.1, 1.3.2, 1.3.3, 1.3.4-->
    <div class="ds">
      <!--Exam System-->
      <div class="subrating-heading">
        <h2 class="sb-rate-h">Exam System</h2>
      </div>
      <!--1.3.1, 1.3.2--->
      <div class="ds-row">
        <!--1.3.1-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Exam difficulty</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.3.2-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Fairness in checking</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>
      <!--1.3.3, 1.3.4--->
      <div class="ds-row">
        <!--1.3.3-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Exam Prep Time</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.3.4-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Relevance to Syllabus taught</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>

      <!--Comment-box-->
      <div class="comment-container">
        <div class="user-comment">
          <h2>Comments</h2>
        </div>  
        <form id="commentForm" method="POST" action="save_comment.php">
          <textarea id="commentInput" name="comment" maxlength="250" placeholder="Type your thoughts..." required></textarea>
          <div class="footer">
            <span id="charCount">0/250</span>
            <button type="submit" id="submitBtn" disabled>Post</button>
          </div>
        </form>
      </div>
    </div>
    <!--1.4)Assignment Culture: 1.4.1, 1.4.2, 1.4.3, 1.4.4-->
    <div class="ds">
      <!--Assignment Culture-->
      <div class="subrating-heading">
        <h2 class="sb-rate-h">Assignment Culture</h2>
      </div>
      <!--1.4.1, 1.4.2--->
      <div class="ds-row">
        <!--1.3.1-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Deadline Flexibility</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.4.2-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Digital Adoption</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>
      <!--1.4.3, 1.4.4--->
      <div class="ds-row">
        <!--1.4.3-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Plagiarism handling</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
        <!--1.4.4-->
        <div class="rating-container">
          <div class="sub-sub-rating-h">
            <h3>Relevance to Subject</h3>
          </div>
          <!--rating-boxes-->
          <div class="sub-ratingbox">
            <div class="rating-boxes">
              <div class="box" data-index="1"></div>
              <div class="box" data-index="2"></div>
              <div class="box" data-index="3"></div>
              <div class="box" data-index="4"></div>
              <div class="box" data-index="5"></div>
            </div>
            <div class="rating-text">&nbsp;</div>
          </div>
          <!--Rating Description-->
          <div class="rating-description">
            <p class="rate-descrip-p">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia recusandae quo dolore voluptatem iusto est, voluptatibus nulla laborum, doloribus, hic maiores aut quidem nam repudiandae fuga. Voluptate dolorem, expedita sed magnam dolor distinctio a blanditiis soluta sequi pariatur obcaecati quam amet nesciunt iusto aspernatur numquam, alias consequatur minus ratione earum.</p>
          </div>
        </div> 
      </div>

      <!--Comment-box-->
      <div class="comment-container">
        <div class="user-comment">
          <h2>Comments</h2>
        </div>  
        <form id="commentForm" method="POST" action="save_comment.php">
          <textarea id="commentInput" name="comment" maxlength="250" placeholder="Type your thoughts..." required></textarea>
          <div class="footer">
            <span id="charCount">0/250</span>
            <button type="submit" id="submitBtn" disabled>Post</button>
          </div>
        </form>
      </div>
    </div>

  </div>

  <script>
    const subratingContainer = document.getElementById('subratings');
    const totalRatings = 18;
    const selectedRatings = new Array(totalRatings).fill(0);
    const colorMap = [
      { max: 1, color: '#ff4d4f' },
      { max: 2, color: '#ff944d' },
      { max: 3, color: '#ffc107' },
      { max: 4, color: '#69d100' },
      { max: 5, color: '#28a745' }
    ];

    const ratingLabels = ['poor', 'average', 'good', 'great', 'excellent'];

    function createSubratings() {
      for (let i = 0; i < totalRatings; i++) {
        const container = document.createElement('div');
        container.classList.add('rating-container');
        const boxesDiv = document.createElement('div');
        boxesDiv.classList.add('rating-boxes');

        for (let j = 0; j < 5; j++) {
          const box = document.createElement('div');
          box.classList.add('box');
          box.dataset.index = i;

          box.addEventListener('mouseenter', () => {
            updateBoxClasses(boxesDiv.children, j + 1, 'hovered');
          });

          box.addEventListener('mouseleave', () => {
            const selected = selectedRatings[i];
            updateBoxClasses(boxesDiv.children, selected, 'selected');
          });

          box.addEventListener('click', () => {
            selectedRatings[i] = j + 1;
            updateBoxClasses(boxesDiv.children, j + 1, 'selected');
            updateAverages();
          });

          boxesDiv.appendChild(box);
        }

        container.appendChild(boxesDiv);
        subratingContainer.appendChild(container);
      }
    }

    function updateBoxClasses(boxes, level, type) {
      for (let i = 0; i < boxes.length; i++) {
        boxes[i].className = 'box';
        if (i < level) {
          boxes[i].classList.add(type);
          boxes[i].classList.add(ratingLabels[level - 1]);
        }
      }
    }

    function setCircle(el, avg) {
      const pct = (avg / 5) * 100;
      const { color } = colorMap.find(c => avg <= c.max) || colorMap[4];
      el.style.setProperty('--percent', pct);
      el.style.setProperty('--color', color);
      el.querySelector('.rating-text').textContent = avg.toFixed(1) + '/5';
    }

    function updateAverages() {
      const groupings = {
        tuition: selectedRatings.slice(0, 6),
        attendance: selectedRatings.slice(6, 10),
        exam: selectedRatings.slice(10, 14),
        assignment: selectedRatings.slice(14, 18)
      };

      const averages = {};
      let totalSum = 0;
      let totalCount = 0;

      for (let key in groupings) {
        const values = groupings[key].filter(v => v > 0);
        const avg = values.length ? values.reduce((a, b) => a + b, 0) / values.length : 0;
        averages[key] = avg;
        totalSum += avg;
        if (avg > 0) totalCount++;
      }

      if (averages.tuition) setCircle(document.getElementById('tuition-circle'), averages.tuition);
      if (averages.attendance) setCircle(document.getElementById('attendance-circle'), averages.attendance);
      if (averages.exam) setCircle(document.getElementById('exam-circle'), averages.exam);
      if (averages.assignment) setCircle(document.getElementById('assignment-circle'), averages.assignment);

      const overall = totalCount ? totalSum / totalCount : 0;
      setCircle(document.getElementById('overall-circle'), overall);
    }

    createSubratings();
  </script>

</body>
</html>
